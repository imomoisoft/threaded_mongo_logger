## Обзор

Данная библиотека предназначена для обеспечения потоко-безопасного сохранения
логов Rails приложения в СУБД 10gen MongoDB.

Данная библиотека работает с Ruby on Rails версии ~> 3.2.0

## Использование

Необходимо добавить в Gemfile строку:

     gem 'threaded_mongo_logger', :git => git@github.com:imomoisoft/threaded_mongo_logger.git

## Принцип работы

Библиотека добавляет новую прослойку Rack `ThreadedMongoLogger::Rack` перед `Rails::Rack::Logger`.

Она для каждого запроса создает объект класса `ThreadedMongoLogger::Logger`,
который сохраняется в БД после обработки запроса.

Для этого подменяется метод `Rails.logger`, т.к. стандартная реализация не позволяет иметь в каждом потоке-обработчике свой собственный логгер.

С точки зрения приложения использования логгера не меняется. Все стандартные методы
поддерживаются.

Дополнительно существует метод `add_metadata`, который позволяет добавить
специальную информацию в логи в виде отдельного набора пар ключ-значение.
